---
title: "Solrã®JSON Facetã‚’Goè¨€èªã§æ‰±ã„ãŸã„"
emoji: "ğŸ”ª"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["solr"]
published: false
---

Goè¨€èªã§Apache Solrã®JSON Facetã‚’æ‰±ã„ãŸã‹ã£ãŸã®ã§å‚™å¿˜éŒ²ã¨ã—ã¦æ®‹ã—ã¾ã™ã€‚

## Solr JSON Facetã¨ã¯

Apache Solrã§ã¯[é€šå¸¸ã®ãƒ•ã‚¡ã‚»ãƒƒãƒˆ](https://solr.apache.org/guide/solr/9_5/query-guide/faceting.html)ã®ä»–ã€JSONå½¢å¼ã®ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã‚’`json.facet`ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§[JSON Facet](https://solr.apache.org/guide/solr/9_5/query-guide/json-facet-api.html)ã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªJSONæ–‡å­—åˆ—ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã«æŒ‡å®šã—ã¾ã™ã€‚

```json
{
    "category": {
        "type": "terms",
        "field": "category",
        "mincount": 1,
        "limit": -1
    }
}
```

ãƒªã‚¯ã‚¨ã‚¹ãƒˆURLã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

```bash
curl 'http://localhost:8983/solr/example/select' --get --data-urlencode 'q=*:*' --data-urlencode 'json.facet={"category":{"type":"terms","field":"category","mincount":1,"limit":-1}}'
```

ä¸Šè¨˜ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¯¾ã™ã‚‹ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
